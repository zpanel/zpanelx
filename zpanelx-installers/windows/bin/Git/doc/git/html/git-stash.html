<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 7.0.2" />
<style type="text/css">
/* Debug borders */
p, li, dt, dd, div, pre, h1, h2, h3, h4, h5, h6 {
/*
  border: 1px solid red;
*/
}

body {
  margin: 1em 5% 1em 5%;
}

a { color: blue; }
a:visited { color: fuchsia; }

em {
  font-style: italic;
}

strong {
  font-weight: bold;
}

tt {
  color: navy;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  font-family: sans-serif;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1 {
  border-bottom: 2px solid silver;
}
h2 {
  border-bottom: 2px solid silver;
  padding-top: 0.5em;
}

div.sectionbody {
  font-family: serif;
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

pre {
  padding: 0;
  margin: 0;
}

span#author {
  color: #527bbd;
  font-family: sans-serif;
  font-weight: bold;
  font-size: 1.2em;
}
span#email {
}
span#revision {
  font-family: sans-serif;
}

div#footer {
  font-family: sans-serif;
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
div#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
div#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

div#preamble,
div.tableblock, div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-right: 10%;
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.5em;
  margin-bottom: 2.5em;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  font-family: sans-serif;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid silver;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid silver;
  background: #f4f4f4;
  padding: 0.5em;
}

div.quoteblock > div.content {
  padding-left: 2.0em;
}
div.quoteblock .attribution {
  text-align: right;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 2px solid silver;
}

div.exampleblock > div.content {
  border-left: 2px solid silver;
  padding: 0.5em;
}

div.verseblock div.content {
  white-space: pre;
}

div.imageblock div.content { padding-left: 0; }
div.imageblock img { border: 1px solid silver; }
span.image img { border-style: none; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: italic;
}
dd > *:first-child {
  margin-top: 0;
}

ul, ol {
    list-style-position: outside;
}
ol.olist2 {
  list-style-type: lower-alpha;
}

div.tableblock > table {
  border-color: #527bbd;
  border-width: 3px;
}
thead {
  font-family: sans-serif;
  font-weight: bold;
}
tfoot {
  font-weight: bold;
}

div.hlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
td.hlist1 {
  vertical-align: top;
  font-style: italic;
  padding-right: 0.8em;
}
td.hlist2 {
  vertical-align: top;
}

@media print {
  div#footer-badges { display: none; }
}
include::./stylesheets/xhtml11-manpage.css[]
/* Workarounds for IE6's broken and incomplete CSS2. */

div.sidebar-content {
  background: #ffffee;
  border: 1px solid silver;
  padding: 0.5em;
}
div.sidebar-title, div.image-title {
  font-family: sans-serif;
  font-weight: bold;
  margin-top: 0.0em;
  margin-bottom: 0.5em;
}

div.listingblock div.content {
  border: 1px solid silver;
  background: #f4f4f4;
  padding: 0.5em;
}

div.quoteblock-content {
  padding-left: 2.0em;
}

div.exampleblock-content {
  border-left: 2px solid silver;
  padding-left: 0.5em;
}
</style>
<title>git-stash(1)</title>
</head>
<body>
<div id="header">
<h1>
git-stash(1) Manual Page
</h1>
<h2>NAME</h2>
<div class="sectionbody">
<p>git-stash -
   Stash the changes in a dirty working directory away
</p>
</div>
</div>
<h2>SYNOPSIS</h2>
<div class="sectionbody">
<div class="verseblock">
<div class="content"><em>git-stash</em> (list | show [&lt;stash&gt;] | apply [&lt;stash&gt;] | clear | drop [&lt;stash&gt;] | pop [&lt;stash&gt;])
<em>git-stash</em> [save [&lt;message&gt;]]</div></div>
</div>
<h2>DESCRIPTION</h2>
<div class="sectionbody">
<p>Use <em>git-stash</em> when you want to record the current state of the
working directory and the index, but want to go back to a clean
working directory.  The command saves your local modifications away
and reverts the working directory to match the <tt>HEAD</tt> commit.</p>
<p>The modifications stashed away by this command can be listed with
<tt>git-stash list</tt>, inspected with <tt>git-stash show</tt>, and restored
(potentially on top of a different commit) with <tt>git-stash apply</tt>.
Calling git-stash without any arguments is equivalent to <tt>git-stash
save</tt>.  A stash is by default listed as "WIP on <em>branchname</em> &#8230;", but
you can give a more descriptive message on the command line when
you create one.</p>
<p>The latest stash you created is stored in <tt>$GIT_DIR/refs/stash</tt>; older
stashes are found in the reflog of this reference and can be named using
the usual reflog syntax (e.g. <tt>stash@{0}</tt> is the most recently
created stash, <tt>stash@{1}</tt> is the one before it, <tt>stash@{2.hours.ago}</tt>
is also possible).</p>
</div>
<h2>OPTIONS</h2>
<div class="sectionbody">
<dl>
<dt>
save [&lt;message&gt;]
</dt>
<dd>
<p>
        Save your local modifications to a new <em>stash</em>, and run <tt>git-reset
        --hard</tt> to revert them.  This is the default action when no
        subcommand is given. The &lt;message&gt; part is optional and gives
        the description along with the stashed state.
</p>
</dd>
<dt>
list [&lt;options&gt;]
</dt>
<dd>
<p>
        List the stashes that you currently have.  Each <em>stash</em> is listed
        with its name (e.g. <tt>stash@{0}</tt> is the latest stash, <tt>stash@{1}</tt> is
        the one before, etc.), the name of the branch that was current when the
        stash was made, and a short description of the commit the stash was
        based on.
</p>
<div class="listingblock">
<div class="content">
<pre><tt>stash@{0}: WIP on submit: 6ebd0e2... Update git-stash documentation
stash@{1}: On master: 9cc0589... Add git-stash</tt></pre>
</div></div>
<p>The command takes options applicable to the <a href="git-log.html">git-log(1)</a>
command to control what is shown and how.</p>
</dd>
<dt>
show [&lt;stash&gt;]
</dt>
<dd>
<p>
        Show the changes recorded in the stash as a diff between the
        stashed state and its original parent. When no <tt>&lt;stash&gt;</tt> is given,
        shows the latest one. By default, the command shows the diffstat, but
        it will accept any format known to <tt>git-diff</tt> (e.g., <tt>git-stash show
        -p stash@{1}</tt> to view the second most recent stash in patch form).
</p>
</dd>
<dt>
apply [--index] [&lt;stash&gt;]
</dt>
<dd>
<p>
        Restore the changes recorded in the stash on top of the current
        working tree state.  When no <tt>&lt;stash&gt;</tt> is given, applies the latest
        one.  The working directory must match the index.
</p>
<p>This operation can fail with conflicts; you need to resolve them
by hand in the working tree.</p>
<p>If the <tt>--index</tt> option is used, then tries to reinstate not only the working
tree's changes, but also the index's ones. However, this can fail, when you
have conflicts (which are stored in the index, where you therefore can no
longer apply the changes as they were originally).</p>
</dd>
<dt>
clear
</dt>
<dd>
<p>
        Remove all the stashed states. Note that those states will then
        be subject to pruning, and may be difficult or impossible to recover.
</p>
</dd>
<dt>
drop [&lt;stash&gt;]
</dt>
<dd>
<p>
        Remove a single stashed state from the stash list. When no <tt>&lt;stash&gt;</tt>
        is given, it removes the latest one. i.e. <tt>stash@{0}</tt>
</p>
</dd>
<dt>
pop [&lt;stash&gt;]
</dt>
<dd>
<p>
        Remove a single stashed state from the stash list and apply on top
        of the current working tree state. When no <tt>&lt;stash&gt;</tt> is given,
        <tt>stash@{0}</tt> is assumed. See also <tt>apply</tt>.
</p>
</dd>
</dl>
</div>
<h2>DISCUSSION</h2>
<div class="sectionbody">
<p>A stash is represented as a commit whose tree records the state of the
working directory, and its first parent is the commit at <tt>HEAD</tt> when
the stash was created.  The tree of the second parent records the
state of the index when the stash is made, and it is made a child of
the <tt>HEAD</tt> commit.  The ancestry graph looks like this:</p>
<div class="literalblock">
<div class="content">
<pre><tt>       .----W
      /    /
-----H----I</tt></pre>
</div></div>
<p>where <tt>H</tt> is the <tt>HEAD</tt> commit, <tt>I</tt> is a commit that records the state
of the index, and <tt>W</tt> is a commit that records the state of the working
tree.</p>
</div>
<h2>EXAMPLES</h2>
<div class="sectionbody">
<dl>
<dt>
Pulling into a dirty tree
</dt>
<dd>
<p>
When you are in the middle of something, you learn that there are
upstream changes that are possibly relevant to what you are
doing.  When your local changes do not conflict with the changes in
the upstream, a simple <tt>git pull</tt> will let you move forward.
</p>
<p>However, there are cases in which your local changes do conflict with
the upstream changes, and <tt>git pull</tt> refuses to overwrite your
changes.  In such a case, you can stash your changes away,
perform a pull, and then unstash, like this:</p>
<div class="listingblock">
<div class="content">
<pre><tt>$ git pull
...
file foobar not up to date, cannot merge.
$ git stash
$ git pull
$ git stash apply</tt></pre>
</div></div>
</dd>
<dt>
Interrupted workflow
</dt>
<dd>
<p>
When you are in the middle of something, your boss comes in and
demands that you fix something immediately.  Traditionally, you would
make a commit to a temporary branch to store your changes away, and
return to your original branch to make the emergency fix, like this:
</p>
<div class="listingblock">
<div class="content">
<pre><tt>... hack hack hack ...
$ git checkout -b my_wip
$ git commit -a -m "WIP"
$ git checkout master
$ edit emergency fix
$ git commit -a -m "Fix in a hurry"
$ git checkout my_wip
$ git reset --soft HEAD^
... continue hacking ...</tt></pre>
</div></div>
<p>You can use <tt>git-stash</tt> to simplify the above, like this:</p>
<div class="listingblock">
<div class="content">
<pre><tt>... hack hack hack ...
$ git stash
$ edit emergency fix
$ git commit -a -m "Fix in a hurry"
$ git stash apply
... continue hacking ...</tt></pre>
</div></div>
</dd>
</dl>
</div>
<h2>SEE ALSO</h2>
<div class="sectionbody">
<p><a href="git-checkout.html">git-checkout(1)</a>,
<a href="git-commit.html">git-commit(1)</a>,
<a href="git-reflog.html">git-reflog(1)</a>,
<a href="git-reset.html">git-reset(1)</a></p>
</div>
<h2>AUTHOR</h2>
<div class="sectionbody">
<p>Written by Nanako Shiraishi &lt;nanako3@bluebottle.com&gt;</p>
</div>
<h2>GIT</h2>
<div class="sectionbody">
<p>Part of the <a href="git.html">git(1)</a> suite</p>
</div>
<div id="footer">
<div id="footer-text">
Last updated 08-Jun-2008 01:34:16 UTC
</div>
</div>
</body>
</html>
